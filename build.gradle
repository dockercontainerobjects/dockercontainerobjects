buildscript {
    ext {
        xtendPluginVersion = '1.0.17'
        errorPronePluginVersion = '0.0.9'
        junitPlatformPluginVersion = '1.0.0-M4'
    }
    repositories {
        maven { url 'https://plugins.gradle.org/m2' }
        jcenter()
    }
    dependencies {
        classpath "org.xtext:xtext-gradle-plugin:${xtendPluginVersion}"
        classpath "net.ltgt.gradle:gradle-errorprone-plugin:${errorPronePluginVersion}"
        classpath "org.junit.platform:junit-platform-gradle-plugin:${junitPlatformPluginVersion}"
    }
}

subprojects {
    apply plugin: 'java'
    apply plugin: 'org.xtext.xtend'
    apply plugin: 'net.ltgt.errorprone'
    apply plugin: 'org.junit.platform.gradle.plugin'

    group 'org.dockecontainerobjects'
    version '1.0-SNAPSHOT'

    ext {
        javaVersion = '1.8'
        xtendVersion = '2.11.0'
        junitPlatformVersionPrefix = '.0-M4'
        junitPlatformVersion = "1.0${junitPlatformVersionPrefix}"
        junitClassicVersion = '4.12'
        junitJupiterVersion = "5.0${junitPlatformVersionPrefix}"
        junitVintageVersion = "${junitClassicVersion}${junitPlatformVersionPrefix}"
        dockerJavaVersion = '3.0.8'
        javaxInjectVersion = '1'
        slf4jVersion = '1.7.25'
        logbackVersion = '1.2.2'
    }

    sourceCompatibility = javaVersion
    targetCompatibility = javaVersion

    repositories {
        jcenter()
    }

    xtend {
        generator {
            javaSourceLevel = javaVersion
            suppressWarningsAnnotation = true
            generatedAnnotation {
                active = true
                includeDate = false
            }
        }
        debugger {
            sourceInstaller = 'SMAP'
            hideSyntheticVariables = true
        }
        validator {
        }
    }
}

task wrapper(type: Wrapper) {
    gradleVersion = '3.4.1'
}

